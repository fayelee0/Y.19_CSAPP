#+TITLE: Practice 12

#+BEGIN_SRC c

void uremdiv(unsigned long x, unsigned long y, unsigned long *gp, unsigned long *rp)
{
    unsigned long q = x / y;
    unsigned long r = x % y;
    *gp = q;
    *rp = r;
}

#+END_SRC


#+BEGIN_SRC asm

. x in %rdi, y in %rsi, gp in %rdx, rp in %rcx
remdiv:
  movq %rdi, %rax
  movq %rdx, %rdi
  movl $0, %edx
  divq %rsi
  movq %rax, (%rdi)
  movq %rdx, (%rcx)
  ret

#+END_SRC
