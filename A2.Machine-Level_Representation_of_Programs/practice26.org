#+TITLE: Practice 26

#+BEGIN_SRC c

long fun_a(unsigned long x)
{
    long val = 0;
    while (x != 0) {
        val ^= x;
        x >>= 1;
    }
    return val&1;
}

#+END_SRC


#+BEGIN_SRC asm

.long fun_a(unsigned long x)
.x in %rdi
fun_a:
  movl  $0, %eax
  jmp   .L5
.L6:
  xorq  %rdi, %rax
  shrq  %rdi
.L5:
  testq %rdi, %rdi
  jne   .L6
  andl  $1, %eax
  ret

#+END_SRC

when return is *1*, x contains *odd* numbers of 1
when return is *0*, x contains *even* numbers of 1
