#+AUTHOR: Fei Li
#+EMAIL: wizard@pursuetao.com
* Practice 13

  #+BEGIN_SRC c

  #define COMP ...
  
  typedef ... data_t;

  int comp(data_t a, data_t b) 
  {
      return a COMP b;
  }
  
  #+END_SRC

  *a in %rdi, b in %rsi*

** A

   #+BEGIN_SRC asm
   
   cmpl  %esi,%edi
   setl  %al
   
   #+END_SRC

   
   #+BEGIN_SRC c
   
   int comp(int a, int b) 
   {
       return a < b;
   }

   #+END_SRC


** B

   #+BEGIN_SRC asm

   cmpw  %si,%di
   setge %al
   
   #+END_SRC


   #+BEGIN_SRC c

   int comp(short a, short b)
   {
       return a >= b;
   }
   
   #+END_SRC


** C

   #+BEGIN_SRC asm

   cmpb  %sil,%dil
   setbe %al
   
   #+END_SRC

   
   #+BEGIN_SRC c

   int comp(unsigned char a, unsigned char b)
   {
       return a <= b;
   }
   
   #+END_SRC


** D

   #+BEGIN_SRC asm

   cmpq  %rsi,%rdi
   setne %a
   
   #+END_SRC


   #+BEGIN_SRC c

   int comp(long a, long b)
   {
       return a != b;
   }
   
   #+END_SRC


   #+BEGIN_SRC c

   int comp(unsigned long a, unsigned long b)
   {
       return a != b;
   }
   
   #+END_SRC
