#+AUTHOR: Fei Li
#+EMAIL: wizard@pursuetao.com
* Practice 09

  #+BEGIN_SRC c

  long shift_left4_rightn(long x, long n)
  {
      x <<= 4;
      x >>= n;
      return x;
  }
  
  #+END_SRC


  #+BEGIN_SRC asm

  ; long shift_left4_rightn(long x, long n)
  ; x in %rdi, n in %rsi
  shift_left4_rightn:
    movq %rdi,%rax       ; get x
    salq 4,%rax          ; x <<= 4
    movl %esi,%ecx       ; get n (4 bytes)
    sarq %cl,%rax        ; x >= 4
  
  #+END_SRC
