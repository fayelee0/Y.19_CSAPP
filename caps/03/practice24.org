#+AUTHOR: Fei Li
#+EMAIL: wizard@pursuetao.com
* Practice 24

  #+BEGIN_SRC c

  long loop_while(long a, long b)
  {
      long result = ;
      while () {
          result = ;
          a = ;
      }
      return result;
  }
  
  #+END_SRC


  #+BEGIN_SRC asm

  ; long loop_while(long a, long b)
  ; a in %rdi, b in %rsi
  loop_while:
    movl   $1,%eax               ; rax = 1
    jmp    .L2                   ; goto .L2
  .L3:
    leaq   (%rdi,%rsi),%rdx      ; rdx = a + b
    imulq  %rdx,%rax             ; a = (a + b) * a
    addq   $1,%rdi               ; a++
  .L2:
    cmpq   %rsi,%rdi             ; a:b
    jl     .L3                   ; if (a < b) goto .L3
    rep; ret
  
  #+END_SRC


  #+BEGIN_SRC c

  long loop_while(long a, long b)
  {
      long result = 1;
      while (a < b) {
          result = result * (a + b);
          a = a + 1;
      }
      return result;
  }
  
  #+END_SRC
