#+AUTHOR: Fei Li
#+EMAIL: wizard@pursuetao.com
* Practice 75

  #+BEGIN_SRC c

  #include <complex.h>

  double c_imag(double complex x) 
  {
      return cimag(x);
  }

  double c_real(double complex x)
  {
      return creal(x);
  }

  double complex c_sub(double complex x, double complex y)
  {
      return x - y;
  }
  
  #+END_SRC


  #+BEGIN_SRC asm

  ; double c_imag(double complex x)
  c_imag:
    movapd   %xmm1, %xmm0
    ret


  ; double c_real(double complex x)
  c_real:
    rep; ret

   
  ; double complex c_sub(double complex x, double complex y)
  c_sub:
    subsd   %xmm2, %xmm0
    subsd   %xmm3, %xmm1
    ret
  
  #+END_SRC


** A

   <real, imag> ~ <%xmm0, %xmm1>


** B

   <%xmm0, %xmm1> ~ <real, image>
  
